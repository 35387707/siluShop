
@{
    Layout = null;
    List<RelexBarDLL.AdminMenu> menulist= ViewData["menu"] as List<RelexBarDLL.AdminMenu>;
}
@model RelexBarDLL.AdminUser

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>丝路后台管理系统</title>
    <script src="~/Scripts/jquery-2.0.0.min.js"></script>
    <script src="~/js/PageUtil.js"></script>
    <link href="~/Content/bootstrap.css" rel="stylesheet" />
    <!-- 富文本框 -->
    <link rel="stylesheet" type="text/css" href="/js/wangeditor/css/wangEditor.min.css">
    <script type="text/javascript" src="/js/wangeditor/js/wangEditor.min.js"></script>
    <script language="javascript" type="text/javascript" src="~/Scripts/My97DatePicker/WdatePicker.js"></script>
    <style>
        .showBack {width:100%;height:100%;background-color:rgba(90, 90, 90,.2);background-repeat:no-repeat;position:fixed;top:0;left:0;display:none;z-index:9999;}
        #waiting{background-image:url(/img/waiting.gif);background-position:50% 50%;}
        .page-header {margin-top:20px;}
        a {cursor:pointer; }
        .input-group-addon {cursor:pointer;}
    </style>
    <script>
       
        function waiting() {
            $("#waiting").show();
        }
        function waitingHide() {
            $("#waiting").hide();
        }
        $(function () {
            $("#leftnav li").on("click", function () {
                $("#leftnav li").removeClass("active");
                $(this).addClass("active");
                var page = $(this).attr("data-page");
                GetManager(page);

            });
        });
        //用户管理
        //function getUserManager() {
        //    waiting();
        //    $.get("UserManager", function (data) {
        //        $("#rightContent").html(data);
        //        waitingHide();
        //    }, "html");
        //}
        ////账单管理
        //function payListManager() {
        //    waiting();
        //    $.get("PayListManager", function (data) {
        //        $("#rightContent").html(data);
        //        waitingHide();
        //    }, "html");
        //}
        function GetManager(page) {
            waiting();
            $.get(page, function (data) {
                $("#rightContent").html(data);
                waitingHide();
            }, "html");
        }
        function FileUpload(file,success) {
            waiting();
            var formData = new FormData();
            formData.append("file", file.files[0]);
            $.ajax({
                type: "POST",
                url: '/File/ImgUpload',
                data: formData,// 序列化表单值
                async: false,
                contentType: false,
                processData: false,
                success: function (data) {
                    if (data.code == 1) {
                        success(data);
                    }
                    else {
                        alert("上传失败！" + data);
                    }
                    waitingHide();
                },
                error: function () {
                }
            });
        }
    </script>
</head>
<body>
    <div class="col-md-12">
        <div class="col-md-12 page-header text-center">
            <span style="float:left">当前用户:&nbsp;<strong>@Model.Name</strong>&nbsp;<a class="btn-link" href="LoginOut">退出</a></span>
        <h2>丝路后台管理系统</h2></div>
        <div class="col-md-2">
            <ul class="nav nav-pills nav-stacked" id="leftnav">
                @for (int i = 0; i < menulist.Count; i++)
                {
                    <li data-page="@menulist[i].Page"><a>@menulist[i].ShowName</a></li>
                }

                @*<li class="active"><a  data-v="0">首页</a></li>
                <li><a data-v="1">用户管理</a></li>
                <li><a data-v="8">广告管理</a></li>
                <li><a data-v="6">商品管理</a></li>
                <li><a data-v="9">订单管理</a></li>
                <li><a data-v="2">账单管理</a></li>
                <li><a data-v="11">收入明细管理</a></li>
                <li><a data-v="3">提现管理</a></li>
                <li><a data-v="10">节假日管理</a></li>
                <li><a data-v="4">管理员管理</a></li>
                <li><a data-v="5">系统设置</a></li>
                <li><a data-v="13">关于我们/帮助中心</a></li>*@
            </ul>
        </div> 
        <div class="col-md-10" id="rightContent">
            @Html.Action("Default")
        </div>
    </div>
    <div id="waiting" class="showBack"></div>
</body>
</html>
